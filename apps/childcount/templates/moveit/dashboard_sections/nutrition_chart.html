{% load i18n %}
<div class="dashboard-section">
	<h2 class="title">{% trans "Nutrition Chart" %}</h2>
	<div class="s-content">
		<div id="muacpie"></div>
	</div>
	<script type="text/javascript">
	<!--
	$(function(){
		var nutritionData = {{ dashboard_data.nutrition_chart|safe }};

		//NutritionPieChart
		var muacPie = Raphael("muacpie", 400, 250),
			legend = $(nutritionData).map(function(){ return "%%.%% "+this[0] }),
			values = $(nutritionData).map(function(){ return this[1] });

        muacPie.g.txtattr.font = "12px 'Fontin Sans', Fontin-Sans, sans-serif";
        var pie = muacPie.g.piechart(280, 120, 100, values, {legend: legend, legendpos: "west"});

		pie.hover(function(){
				this.sector.stop();
	            this.sector.scale(1.1, 1.1, this.cx, this.cy);
	            if (this.label) {
	                this.label[0].stop();
	                this.label[0].scale(1.5);
	                this.label[1].attr({"font-weight": 800});
	            }
			}, function() {
				this.sector.animate({scale: [1, 1, this.cx, this.cy]}, 500, "bounce");
	            if (this.label) {
	                this.label[0].animate({scale: 0.5}, 500, "bounce");
	                this.label[1].attr({"font-weight": 400});
	            }
			});
	});
	-->
	</script>
</div>
